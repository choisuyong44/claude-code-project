<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê·€ì—¬ìš´ ê³ ì–‘ì´</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 50%, #f8b500 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Segoe UI', sans-serif;
            overflow: hidden;
        }

        /* ë°© ë°°ê²½ ìš”ì†Œë“¤ */
        .room {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .floor {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 30%;
            background: linear-gradient(to bottom, #d4a574 0%, #c4956a 100%);
            border-top: 4px solid #8b6914;
        }

        .wall {
            position: absolute;
            top: 0;
            width: 100%;
            height: 70%;
            background: linear-gradient(to bottom, #fff5e6 0%, #ffe4c4 100%);
        }

        /* ì°½ë¬¸ */
        .window {
            position: absolute;
            top: 15%;
            right: 10%;
            width: 120px;
            height: 150px;
            background: linear-gradient(135deg, #87ceeb 0%, #98d8f0 100%);
            border: 8px solid #8b6914;
            border-radius: 8px;
            box-shadow: inset 0 0 20px rgba(255,255,255,0.5);
        }

        .window::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: 4px;
            background: #8b6914;
            transform: translateY(-50%);
        }

        .window::after {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            width: 4px;
            height: 100%;
            background: #8b6914;
            transform: translateX(-50%);
        }

        /* í–‡ì‚´ íš¨ê³¼ */
        .sunlight {
            position: absolute;
            top: 15%;
            right: 5%;
            width: 200px;
            height: 300px;
            background: linear-gradient(180deg, rgba(255,223,100,0.3) 0%, transparent 100%);
            transform: skewX(-20deg);
            filter: blur(10px);
        }

        /* ì•¡ì */
        .frame {
            position: absolute;
            top: 20%;
            left: 15%;
            width: 80px;
            height: 60px;
            background: #f5deb3;
            border: 6px solid #8b6914;
            border-radius: 4px;
        }

        /* ê³ ì–‘ì´ ì»¨í…Œì´ë„ˆ */
        .cat-container {
            position: relative;
            z-index: 10;
        }

        /* ê³ ì–‘ì´ */
        .cat {
            position: relative;
            animation: jump 1.5s ease-in-out infinite;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .cat:hover {
            transform: scale(1.1);
        }

        /* ê³ ì–‘ì´ ëª¸í†µ */
        .cat-body {
            width: 120px;
            height: 80px;
            background: #ff9f43;
            border-radius: 50% 50% 45% 45%;
            position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        /* ë¬´ëŠ¬ */
        .stripe {
            position: absolute;
            width: 8px;
            height: 30px;
            background: #e17055;
            border-radius: 4px;
        }

        .stripe:nth-child(1) { top: 10px; left: 30px; transform: rotate(-10deg); }
        .stripe:nth-child(2) { top: 8px; left: 50px; }
        .stripe:nth-child(3) { top: 10px; left: 70px; transform: rotate(10deg); }

        /* ê³ ì–‘ì´ ë¨¸ë¦¬ */
        .cat-head {
            width: 90px;
            height: 75px;
            background: #ff9f43;
            border-radius: 50% 50% 45% 45%;
            position: absolute;
            top: -50px;
            left: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        /* ê·€ */
        .ear {
            position: absolute;
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-bottom: 30px solid #ff9f43;
        }

        .ear-left {
            top: -20px;
            left: 5px;
            transform: rotate(-15deg);
        }

        .ear-right {
            top: -20px;
            right: 5px;
            transform: rotate(15deg);
        }

        .ear-inner {
            position: absolute;
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-bottom: 18px solid #ffb8b8;
        }

        .ear-left .ear-inner {
            top: 8px;
            left: -8px;
        }

        .ear-right .ear-inner {
            top: 8px;
            left: -8px;
        }

        /* ëˆˆ */
        .eyes {
            position: absolute;
            top: 25px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
        }

        .eye {
            width: 16px;
            height: 20px;
            background: #2d3436;
            border-radius: 50%;
            position: relative;
            animation: blink 3s infinite;
        }

        .eye::after {
            content: '';
            position: absolute;
            width: 6px;
            height: 6px;
            background: white;
            border-radius: 50%;
            top: 4px;
            left: 3px;
        }

        /* ì½” */
        .nose {
            position: absolute;
            top: 45px;
            left: 50%;
            transform: translateX(-50%);
            width: 10px;
            height: 8px;
            background: #e17055;
            border-radius: 50% 50% 40% 40%;
        }

        /* ì… */
        .mouth {
            position: absolute;
            top: 50px;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 10px;
        }

        .mouth::before,
        .mouth::after {
            content: '';
            position: absolute;
            width: 10px;
            height: 8px;
            border: 2px solid #2d3436;
            border-top: none;
            border-radius: 0 0 10px 10px;
        }

        .mouth::before { left: 0; }
        .mouth::after { right: 0; }

        /* ìˆ˜ì—¼ */
        .whiskers {
            position: absolute;
            top: 45px;
            width: 100%;
        }

        .whisker {
            position: absolute;
            width: 25px;
            height: 2px;
            background: #2d3436;
            border-radius: 2px;
        }

        .whisker:nth-child(1) { left: -15px; top: 0; transform: rotate(-10deg); }
        .whisker:nth-child(2) { left: -18px; top: 8px; }
        .whisker:nth-child(3) { left: -15px; top: 16px; transform: rotate(10deg); }
        .whisker:nth-child(4) { right: -15px; top: 0; transform: rotate(10deg); }
        .whisker:nth-child(5) { right: -18px; top: 8px; }
        .whisker:nth-child(6) { right: -15px; top: 16px; transform: rotate(-10deg); }

        /* ê¼¬ë¦¬ */
        .tail {
            position: absolute;
            right: -30px;
            bottom: 20px;
            width: 50px;
            height: 15px;
            background: #ff9f43;
            border-radius: 10px;
            transform-origin: left center;
            animation: wag 0.5s ease-in-out infinite alternate;
        }

        .tail::after {
            content: '';
            position: absolute;
            right: -10px;
            top: 0;
            width: 20px;
            height: 15px;
            background: #e17055;
            border-radius: 10px;
        }

        /* ë°œ */
        .paws {
            position: absolute;
            bottom: -10px;
            width: 100%;
            display: flex;
            justify-content: space-around;
            padding: 0 15px;
        }

        .paw {
            width: 20px;
            height: 15px;
            background: #ff9f43;
            border-radius: 50%;
        }

        /* ê·¸ë¦¼ì */
        .shadow {
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 20px;
            background: rgba(0,0,0,0.2);
            border-radius: 50%;
            animation: shadow 1.5s ease-in-out infinite;
        }

        /* ë§í’ì„  */
        .speech-bubble {
            position: absolute;
            top: -100px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 15px 20px;
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            font-size: 18px;
            white-space: nowrap;
            opacity: 0;
            animation: fadeIn 0.5s ease forwards;
            animation-delay: 1s;
        }

        .speech-bubble::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-top: 15px solid white;
        }

        /* ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes jump {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-30px);
            }
        }

        @keyframes shadow {
            0%, 100% {
                transform: translateX(-50%) scale(1);
                opacity: 0.2;
            }
            50% {
                transform: translateX(-50%) scale(0.7);
                opacity: 0.1;
            }
        }

        @keyframes wag {
            0% { transform: rotate(-10deg); }
            100% { transform: rotate(10deg); }
        }

        @keyframes blink {
            0%, 90%, 100% { transform: scaleY(1); }
            95% { transform: scaleY(0.1); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateX(-50%) translateY(10px); }
            to { opacity: 1; transform: translateX(-50%) translateY(0); }
        }

        /* ì œëª© */
        .title {
            position: fixed;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 28px;
            color: #8b6914;
            text-shadow: 2px 2px 4px rgba(255,255,255,0.5);
            z-index: 100;
        }

        /* ë°œìêµ­ ì¥ì‹ */
        .paw-prints {
            position: fixed;
            bottom: 20px;
            left: 20px;
            opacity: 0.3;
        }

        .paw-print {
            font-size: 24px;
            margin: 5px;
            display: inline-block;
        }

        /* ì• ì •ë„ ê²Œì´ì§€ */
        .affection-container {
            position: fixed;
            top: 80px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            z-index: 100;
        }

        .affection-label {
            font-size: 16px;
            color: #8b6914;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .affection-icon {
            font-size: 20px;
        }

        .affection-value {
            font-weight: bold;
            color: #e17055;
        }

        .gauge-container {
            width: 200px;
            height: 20px;
            background: rgba(255,255,255,0.8);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border: 2px solid #8b6914;
        }

        .gauge-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #ff6b6b 0%, #ff8e8e 50%, #ff6b6b 100%);
            border-radius: 8px;
            transition: width 0.5s ease-out;
            position: relative;
            overflow: hidden;
        }

        .gauge-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shine 2s infinite;
        }

        @keyframes shine {
            to { left: 100%; }
        }

        .level-indicator {
            margin-top: 5px;
            font-size: 12px;
            color: #8b6914;
        }

        /* ë– ì˜¤ë¥´ëŠ” í•˜íŠ¸ */
        .floating-heart {
            position: absolute;
            font-size: 24px;
            pointer-events: none;
            animation: floatUp 1s ease-out forwards;
            z-index: 1000;
        }

        @keyframes floatUp {
            0% {
                opacity: 1;
                transform: translateY(0) scale(0.5);
            }
            50% {
                opacity: 1;
                transform: translateY(-50px) scale(1.2);
            }
            100% {
                opacity: 0;
                transform: translateY(-100px) scale(0.8);
            }
        }

        /* ìµœëŒ€ ì• ì •ë„ ë‹¬ì„± ì‹œ íš¨ê³¼ */
        .max-affection .cat {
            animation: jump 1s ease-in-out infinite, glow 1s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from {
                filter: drop-shadow(0 0 10px rgba(255,107,107,0.5));
            }
            to {
                filter: drop-shadow(0 0 20px rgba(255,107,107,0.8));
            }
        }

        /* ë ˆë²¨ì—… íš¨ê³¼ */
        .level-up-effect {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 48px;
            color: #ff6b6b;
            text-shadow: 0 0 20px rgba(255,107,107,0.8);
            animation: levelUp 1.5s ease-out forwards;
            pointer-events: none;
            z-index: 1000;
        }

        /* ê·€ì°®ìŒ ì´í™íŠ¸ */
        .annoyed-effect {
            position: absolute;
            font-size: 24px;
            pointer-events: none;
            animation: annoyedPop 0.8s ease-out forwards;
            z-index: 1000;
        }

        @keyframes annoyedPop {
            0% {
                opacity: 1;
                transform: translateY(0) scale(0.5) rotate(0deg);
            }
            50% {
                opacity: 1;
                transform: translateY(-30px) scale(1.3) rotate(10deg);
            }
            100% {
                opacity: 0;
                transform: translateY(-60px) scale(0.8) rotate(-10deg);
            }
        }

        /* ê·€ì°®ì•„í•  ë•Œ ê³ ì–‘ì´ í”ë“¤ë¦¼ */
        .cat.annoyed {
            animation: shake 0.5s ease-in-out;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px) rotate(-5deg); }
            75% { transform: translateX(10px) rotate(5deg); }
        }

        /* ê²Œì´ì§€ ê°ì†Œ ì‹œ ë¹¨ê°„ìƒ‰ íš¨ê³¼ */
        .gauge-fill.decreasing {
            background: linear-gradient(90deg, #a0a0a0 0%, #c0c0c0 50%, #a0a0a0 100%);
        }

        @keyframes levelUp {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.5);
            }
            20% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1.2);
            }
            80% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(1.5);
            }
        }

        /* ì¥ ìŠ¤íƒ€ì¼ */
        .mouse {
            position: fixed;
            width: 40px;
            height: 30px;
            z-index: 5;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .mouse:hover {
            transform: scale(1.1);
        }

        .mouse-body {
            position: relative;
            width: 30px;
            height: 25px;
            background: #8b7355;
            border-radius: 50% 50% 45% 45%;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .mouse-head {
            position: absolute;
            width: 20px;
            height: 18px;
            background: #8b7355;
            border-radius: 50%;
            top: -8px;
            left: 5px;
        }

        .mouse-ear {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #8b7355;
            border-radius: 50%;
        }

        .mouse-ear-left {
            top: -3px;
            left: 0;
        }

        .mouse-ear-right {
            top: -3px;
            right: 0;
        }

        .mouse-nose {
            position: absolute;
            width: 4px;
            height: 3px;
            background: #654321;
            border-radius: 50%;
            bottom: 2px;
            left: 50%;
            transform: translateX(-50%);
        }

        .mouse-tail {
            position: absolute;
            right: -15px;
            bottom: 5px;
            width: 20px;
            height: 2px;
            background: #654321;
            border-radius: 2px;
        }

        .mouse-tail::after {
            content: '';
            position: absolute;
            right: -5px;
            top: -1px;
            width: 8px;
            height: 2px;
            background: #654321;
            border-radius: 2px;
            transform: rotate(30deg);
        }

        /* ê³ ì–‘ì´ê°€ ì›€ì§ì¼ ë•Œ */
        .cat-container.chasing {
            transition: all 0.8s ease-in-out;
        }

        /* ì¥ ì¡í˜ íš¨ê³¼ */
        @keyframes mouseCaught {
            0% {
                transform: scale(1) rotate(0deg);
                opacity: 1;
            }
            50% {
                transform: scale(1.3) rotate(180deg);
                opacity: 0.5;
            }
            100% {
                transform: scale(0) rotate(360deg);
                opacity: 0;
            }
        }

        .mouse.caught {
            animation: mouseCaught 0.5s ease-out forwards;
        }
    </style>
</head>
<body>
    <!-- ë°© ë°°ê²½ -->
    <div class="room">
        <div class="wall"></div>
        <div class="floor"></div>
        <div class="window"></div>
        <div class="sunlight"></div>
        <div class="frame"></div>
    </div>

    <!-- ì œëª© -->
    <h1 class="title">My Lovely Cat</h1>

    <!-- ì• ì •ë„ ê²Œì´ì§€ -->
    <div class="affection-container">
        <div class="affection-label">
            <span class="affection-icon">ğŸ’•</span>
            <span>ì• ì •ë„: <span class="affection-value" id="affection-text">0</span>/100</span>
        </div>
        <div class="gauge-container">
            <div class="gauge-fill" id="gauge-fill"></div>
        </div>
        <div class="level-indicator" id="level-indicator">Lv.1 ë‚¯ì„  ì‚¬ì´</div>
    </div>

    <!-- ê³ ì–‘ì´ -->
    <div class="cat-container">
        <div class="cat">
            <!-- ë§í’ì„  -->
            <div class="speech-bubble">ì•¼ì˜¹~ ğŸ±</div>

            <!-- ë¨¸ë¦¬ -->
            <div class="cat-head">
                <!-- ê·€ -->
                <div class="ear ear-left">
                    <div class="ear-inner"></div>
                </div>
                <div class="ear ear-right">
                    <div class="ear-inner"></div>
                </div>

                <!-- ëˆˆ -->
                <div class="eyes">
                    <div class="eye"></div>
                    <div class="eye"></div>
                </div>

                <!-- ì½” -->
                <div class="nose"></div>

                <!-- ì… -->
                <div class="mouth"></div>

                <!-- ìˆ˜ì—¼ -->
                <div class="whiskers">
                    <div class="whisker"></div>
                    <div class="whisker"></div>
                    <div class="whisker"></div>
                    <div class="whisker"></div>
                    <div class="whisker"></div>
                    <div class="whisker"></div>
                </div>
            </div>

            <!-- ëª¸í†µ -->
            <div class="cat-body">
                <div class="stripe"></div>
                <div class="stripe"></div>
                <div class="stripe"></div>

                <!-- ë°œ -->
                <div class="paws">
                    <div class="paw"></div>
                    <div class="paw"></div>
                    <div class="paw"></div>
                    <div class="paw"></div>
                </div>
            </div>

            <!-- ê¼¬ë¦¬ -->
            <div class="tail"></div>
        </div>

        <!-- ê·¸ë¦¼ì -->
        <div class="shadow"></div>
    </div>

    <!-- ë°œìêµ­ ì¥ì‹ -->
    <div class="paw-prints">
        <span class="paw-print">ğŸ¾</span>
        <span class="paw-print">ğŸ¾</span>
        <span class="paw-print">ğŸ¾</span>
    </div>

    <script>
        // ìš”ì†Œ ì°¸ì¡°
        const cat = document.querySelector('.cat');
        const catContainer = document.querySelector('.cat-container');
        const bubble = document.querySelector('.speech-bubble');
        const gaugeFill = document.getElementById('gauge-fill');
        const affectionText = document.getElementById('affection-text');
        const levelIndicator = document.getElementById('level-indicator');

        // ì• ì •ë„ ì‹œìŠ¤í…œ
        let affection = 0;
        const maxAffection = 100;

        // ë ˆë²¨ ì •ì˜
        const levels = [
            { min: 0, name: 'Lv.1 ë‚¯ì„  ì‚¬ì´', messages: ['...?', 'ëˆ„êµ¬ì•¼?', 'ê²½ê³„ ì¤‘...'] },
            { min: 20, name: 'Lv.2 ì•Œê²Œ ëœ ì‚¬ì´', messages: ['ì•¼ì˜¹~', 'ë­ì•¼?', 'í¥...'] },
            { min: 40, name: 'Lv.3 ì¹œí•´ì§„ ì‚¬ì´', messages: ['ë†€ì•„ì¤˜! ğŸ¾', 'ì“°ë‹¤ë“¬ì–´ì¤˜~', 'ì¢‹ì•„!'] },
            { min: 60, name: 'Lv.4 ì¹œí•œ ì¹œêµ¬', messages: ['ë°°ê³ íŒŒ~ ğŸŸ', 'ê°„ì‹ ì¤˜! ğŸ–', 'í–‰ë³µí•´ ğŸ’•'] },
            { min: 80, name: 'Lv.5 ë² í”„', messages: ['ìµœê³ ì•¼! â­', 'ì‚¬ë‘í•´! ğŸ’–', 'ì˜ì›íˆ í•¨ê»˜! ğŸŒŸ'] },
            { min: 100, name: 'Lv.MAX ì†Œìš¸ë©”ì´íŠ¸', messages: ['ìš°ë¦¬ëŠ” í•˜ë‚˜! ğŸ’', 'ì™„ë²½í•œ ì‚¬ì´! âœ¨', 'ì˜ì›í•œ ì¹œêµ¬! ğŸ€'] }
        ];

        // ê·€ì°®ì•„í•˜ëŠ” ë©”ì‹œì§€
        const annoyedMessages = [
            'ê·€ì°®ì•„... ğŸ’¢',
            'ê·¸ë§Œí•´! ğŸ˜¾',
            'ì§€ê¸ˆì€ ì‹«ì–´ ğŸ’¢',
            'í˜¼ì ìˆê³  ì‹¶ì–´...',
            'ë„ˆë¬´ ë§ì´ ë§Œì¡Œì–´! ğŸ˜¤',
            'ì‰¿! ğŸ¤«'
        ];

        // ê·€ì°®ì•„í•  í™•ë¥  (20%)
        const annoyedChance = 0.2;

        // í˜„ì¬ ë ˆë²¨ ê°€ì ¸ì˜¤ê¸°
        function getCurrentLevel() {
            for (let i = levels.length - 1; i >= 0; i--) {
                if (affection >= levels[i].min) {
                    return levels[i];
                }
            }
            return levels[0];
        }

        // ê²Œì´ì§€ ì—…ë°ì´íŠ¸
        function updateGauge() {
            const percentage = (affection / maxAffection) * 100;
            gaugeFill.style.width = percentage + '%';
            affectionText.textContent = affection;

            const currentLevel = getCurrentLevel();
            levelIndicator.textContent = currentLevel.name;

            // ìµœëŒ€ ì• ì •ë„ ë‹¬ì„± ì‹œ íš¨ê³¼
            if (affection >= maxAffection) {
                catContainer.classList.add('max-affection');
            }
        }

        // í•˜íŠ¸ ì´í™íŠ¸ ìƒì„±
        function createHeart(x, y) {
            const heart = document.createElement('div');
            heart.className = 'floating-heart';
            heart.textContent = 'â¤ï¸';

            // ëœë¤ ìœ„ì¹˜ ì˜¤í”„ì…‹
            const offsetX = (Math.random() - 0.5) * 60;
            const offsetY = (Math.random() - 0.5) * 30;

            heart.style.left = (x + offsetX) + 'px';
            heart.style.top = (y + offsetY) + 'px';

            document.body.appendChild(heart);

            // ì• ë‹ˆë©”ì´ì…˜ í›„ ì œê±°
            setTimeout(() => heart.remove(), 1000);
        }

        // ë ˆë²¨ì—… íš¨ê³¼
        function showLevelUpEffect(levelName) {
            const effect = document.createElement('div');
            effect.className = 'level-up-effect';
            effect.innerHTML = 'â¬†ï¸ LEVEL UP! â¬†ï¸<br>' + levelName;
            document.body.appendChild(effect);

            setTimeout(() => effect.remove(), 1500);
        }

        // ê·€ì°®ìŒ ì´í™íŠ¸ ìƒì„±
        function createAnnoyedEffect(x, y) {
            const effect = document.createElement('div');
            effect.className = 'annoyed-effect';

            const emojis = ['ğŸ’¢', 'ğŸ˜¾', 'ğŸ’¨', 'ğŸ˜¤'];
            effect.textContent = emojis[Math.floor(Math.random() * emojis.length)];

            const offsetX = (Math.random() - 0.5) * 60;
            const offsetY = (Math.random() - 0.5) * 30;

            effect.style.left = (x + offsetX) + 'px';
            effect.style.top = (y + offsetY) + 'px';

            document.body.appendChild(effect);

            setTimeout(() => effect.remove(), 800);
        }

        // ì‹œê°„ì— ë”°ë¥¸ ì• ì •ë„ ê°ì†Œ (1ë¶„ë§ˆë‹¤ 2ì”© ê°ì†Œ)
        setInterval(() => {
            if (affection > 0) {
                affection = Math.max(0, affection - 2);
                updateGauge();

                // ê²Œì´ì§€ ê°ì†Œ íš¨ê³¼
                gaugeFill.classList.add('decreasing');
                setTimeout(() => gaugeFill.classList.remove('decreasing'), 300);
            }
        }, 60000); // 60ì´ˆ(1ë¶„)ë§ˆë‹¤ 2ì”© ê°ì†Œ

        // ê³ ì–‘ì´ í´ë¦­ ì´ë²¤íŠ¸
        cat.addEventListener('click', (e) => {
            const rect = cat.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;

            // ê·€ì°®ì•„í• ì§€ ê²°ì •
            const isAnnoyed = Math.random() < annoyedChance;

            if (isAnnoyed) {
                // ê·€ì°®ì•„í•˜ëŠ” ë°˜ì‘
                affection = Math.max(0, affection - 3);
                updateGauge();

                // ê³ ì–‘ì´ í”ë“¤ë¦¼ íš¨ê³¼
                cat.classList.add('annoyed');
                setTimeout(() => cat.classList.remove('annoyed'), 500);

                // ê·€ì°®ìŒ ì´í™íŠ¸
                for (let i = 0; i < 2; i++) {
                    setTimeout(() => createAnnoyedEffect(centerX, centerY), i * 150);
                }

                // ê·€ì°®ì•„í•˜ëŠ” ë©”ì‹œì§€
                const randomMessage = annoyedMessages[Math.floor(Math.random() * annoyedMessages.length)];
                bubble.textContent = randomMessage;
                bubble.style.animation = 'none';
                bubble.offsetHeight;
                bubble.style.animation = 'fadeIn 0.5s ease forwards';

            } else {
                // ì¢‹ì•„í•˜ëŠ” ë°˜ì‘
                const prevLevel = getCurrentLevel();

                // ì• ì •ë„ ì¦ê°€
                if (affection < maxAffection) {
                    affection = Math.min(affection + 5, maxAffection);
                    updateGauge();
                }

                // ë ˆë²¨ì—… ì²´í¬
                const currentLevel = getCurrentLevel();
                if (currentLevel.min > prevLevel.min) {
                    showLevelUpEffect(currentLevel.name);
                }

                // í•˜íŠ¸ ì´í™íŠ¸ (ì—¬ëŸ¬ ê°œ)
                for (let i = 0; i < 3; i++) {
                    setTimeout(() => createHeart(centerX, centerY), i * 100);
                }

                // ë§í’ì„  ë©”ì‹œì§€
                const messages = currentLevel.messages;
                const randomMessage = messages[Math.floor(Math.random() * messages.length)];
                bubble.textContent = randomMessage;
                bubble.style.animation = 'none';
                bubble.offsetHeight;
                bubble.style.animation = 'fadeIn 0.5s ease forwards';
            }
        });

        // ì´ˆê¸°í™”
        updateGauge();

        // ===== ì¥ ì‹œìŠ¤í…œ =====
        let currentMouse = null;
        let isChasing = false;

        // ì¥ ìƒì„± í•¨ìˆ˜
        function createMouse() {
            // ì´ë¯¸ ì¥ê°€ ìˆê±°ë‚˜ ê³ ì–‘ì´ê°€ ì«“ëŠ” ì¤‘ì´ë©´ ìƒì„±í•˜ì§€ ì•ŠìŒ
            if (currentMouse || isChasing) return;

            const mouse = document.createElement('div');
            mouse.className = 'mouse';

            // ì¥ êµ¬ì¡° ë§Œë“¤ê¸°
            mouse.innerHTML = `
                <div class="mouse-body">
                    <div class="mouse-head">
                        <div class="mouse-ear mouse-ear-left"></div>
                        <div class="mouse-ear mouse-ear-right"></div>
                        <div class="mouse-nose"></div>
                    </div>
                    <div class="mouse-tail"></div>
                </div>
            `;

            // ëœë¤ ì‹œì‘ ìœ„ì¹˜ (í™”ë©´ ê°€ì¥ìë¦¬ì—ì„œ ì‹œì‘)
            const side = Math.floor(Math.random() * 4); // 0: ìƒ, 1: ìš°, 2: í•˜, 3: ì¢Œ
            const windowWidth = window.innerWidth;
            const windowHeight = window.innerHeight;

            let startX, startY;
            switch(side) {
                case 0: // ìƒë‹¨
                    startX = Math.random() * windowWidth;
                    startY = -50;
                    break;
                case 1: // ìš°ì¸¡
                    startX = windowWidth + 50;
                    startY = Math.random() * windowHeight;
                    break;
                case 2: // í•˜ë‹¨
                    startX = Math.random() * windowWidth;
                    startY = windowHeight + 50;
                    break;
                case 3: // ì¢Œì¸¡
                    startX = -50;
                    startY = Math.random() * windowHeight;
                    break;
            }

            mouse.style.left = startX + 'px';
            mouse.style.top = startY + 'px';

            document.body.appendChild(mouse);
            currentMouse = mouse;

            // ì¥ ì´ë™ ì‹œì‘
            moveMouseRandomly();
        }

        // ì¥ ëœë¤ ì´ë™
        function moveMouseRandomly() {
            if (!currentMouse || isChasing) return;

            const windowWidth = window.innerWidth;
            const windowHeight = window.innerHeight;

            // ëœë¤ ëª©í‘œ ìœ„ì¹˜
            const targetX = Math.random() * (windowWidth - 100) + 50;
            const targetY = Math.random() * (windowHeight - 100) + 50;

            // ì´ë™ ì• ë‹ˆë©”ì´ì…˜
            const currentX = parseFloat(currentMouse.style.left);
            const currentY = parseFloat(currentMouse.style.top);

            const distance = Math.sqrt(Math.pow(targetX - currentX, 2) + Math.pow(targetY - currentY, 2));
            const duration = distance * 5; // ê±°ë¦¬ì— ë¹„ë¡€í•œ ì‹œê°„

            currentMouse.style.transition = `all ${duration}ms linear`;
            currentMouse.style.left = targetX + 'px';
            currentMouse.style.top = targetY + 'px';

            // ì´ë™ ì™„ë£Œ í›„ ë‹¤ì‹œ ì´ë™í•˜ê±°ë‚˜ ì œê±°
            setTimeout(() => {
                if (currentMouse && !isChasing) {
                    if (Math.random() < 0.3) {
                        // 30% í™•ë¥ ë¡œ ì‚¬ë¼ì§
                        removeMouse();
                    } else {
                        // ê³„ì† ì´ë™
                        moveMouseRandomly();
                    }
                }
            }, duration);
        }

        // ì¥ ì œê±°
        function removeMouse() {
            if (currentMouse) {
                currentMouse.remove();
                currentMouse = null;
            }
        }

        // ê³ ì–‘ì´ê°€ ì¥ ì¡ê¸°
        function catchMouse() {
            if (!currentMouse || isChasing) return;

            isChasing = true;
            const mouseRect = currentMouse.getBoundingClientRect();
            const catRect = catContainer.getBoundingClientRect();

            // ê³ ì–‘ì´ ìœ„ì¹˜ ê³„ì‚°
            const mouseX = mouseRect.left + mouseRect.width / 2;
            const mouseY = mouseRect.top + mouseRect.height / 2;
            const catX = catRect.left + catRect.width / 2;
            const catY = catRect.top + catRect.height / 2;

            // ê³ ì–‘ì´ë¥¼ ì¥ ë°©í–¥ìœ¼ë¡œ ì´ë™
            catContainer.classList.add('chasing');
            const offsetX = mouseX - catX;
            const offsetY = mouseY - catY;

            catContainer.style.transform = `translate(${offsetX}px, ${offsetY}px)`;

            // ì¥ ì¡ê¸° ì• ë‹ˆë©”ì´ì…˜
            setTimeout(() => {
                if (currentMouse) {
                    currentMouse.classList.add('caught');

                    // ì• ì •ë„ ì¦ê°€
                    affection = Math.min(affection + 10, maxAffection);
                    updateGauge();

                    // ì„±ê³µ ë©”ì‹œì§€
                    bubble.textContent = 'ì¡ì•˜ë‹¤! ğŸ­âœ¨';
                    bubble.style.animation = 'none';
                    bubble.offsetHeight;
                    bubble.style.animation = 'fadeIn 0.5s ease forwards';

                    // í•˜íŠ¸ ì´í™íŠ¸
                    const centerX = mouseRect.left + mouseRect.width / 2;
                    const centerY = mouseRect.top + mouseRect.height / 2;
                    for (let i = 0; i < 5; i++) {
                        setTimeout(() => createHeart(centerX, centerY), i * 100);
                    }

                    // ì¥ ì œê±°
                    setTimeout(() => removeMouse(), 500);
                }

                // ê³ ì–‘ì´ ì›ìœ„ì¹˜
                setTimeout(() => {
                    catContainer.style.transform = '';
                    catContainer.classList.remove('chasing');
                    isChasing = false;
                }, 800);
            }, 800);
        }

        // ì¥ ìë™ ìƒì„± (10~30ì´ˆë§ˆë‹¤ ëœë¤)
        function scheduleNextMouse() {
            const delay = (Math.random() * 20000) + 10000; // 10~30ì´ˆ
            setTimeout(() => {
                createMouse();
                scheduleNextMouse();
            }, delay);
        }

        // ì¥ í´ë¦­ ì‹œ ê³ ì–‘ì´ê°€ ì¡ìœ¼ëŸ¬ ê°
        document.body.addEventListener('click', (e) => {
            if (e.target.closest('.mouse') && currentMouse && !isChasing) {
                catchMouse();
            }
        });

        // ì²« ì¥ ìƒì„± ì˜ˆì•½
        scheduleNextMouse();
    </script>
</body>
</html>
